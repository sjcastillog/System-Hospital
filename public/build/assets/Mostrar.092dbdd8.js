import{r as u,c as n,a as e,w as f,v as y,b as N,d as D,F as p,e as w,f as m,o as i,t as c,g as A,h as O,i as S}from"./app.d1b50083.js";const x={class:"container"},E={class:"row pt-4"},I={class:"col-10"},L={class:"row justify-content-start align-items-center"},R={class:"col-md-6 col-lg-4 col-4"},T={class:"input-group mb-3"},U=["placeholder","type","disabled"],H=e("i",{class:"fa-solid fa-rotate-right"},null,-1),V=[H],B=["disabled"],M=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),F=[M],P={class:"col-1"},Y={class:"form-check"},q=e("label",{class:"form-check-label",for:"flexCheckChecked"}," Nombres ",-1),$={key:0,class:"col-10"},j={class:"table-responsive"},z={class:"table table-bordered"},G=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"NOMBRES"),e("th",null,"CEDULA"),e("th",null,"SUCURSAL"),e("th",null,"DOCTOR"),e("th",null,"FECHA"),e("th",null,"HORA")])],-1),J=e("i",{class:"fa-solid fa-pen-to-square"},null,-1),K=["onClick"],Q=e("i",{class:"fa-solid fa-trash"},null,-1),W=[Q],X={key:0,class:"col-10"},Z=e("h1",null,"NO HAY CONSULTAS",-1),ee=[Z],te={key:1,class:"col-10"},se=e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),le=[se],ie={__name:"Mostrar",setup(ae){const a=u([]),d=u(""),_=u(!1),h=u(!1),r=u(!1);let v=[];const C=()=>{if(r.value){const l=a.value.filter(t=>{var o;return(o=t.nombre_paciente)==null?void 0:o.toLowerCase().includes(d.value.toLowerCase())});l.length===0?alert("NO HAY COINCIDENCIAS"):(_.value=!0,a.value=l)}else{const l=a.value.filter(t=>t.fecha_cita===d.value);l.length===0?alert("NO HAY COINCIDENCIAS"):(_.value=!0,a.value=l)}},g=()=>{a.value=v,_.value=!1,d.value=""},b=async()=>{try{const{data:l}=await m.get("/api/consultas");a.value=l.sort((t,o)=>new Date(t.fecha_cita).getTime()>new Date(o.fecha_cita).getTime()),v=l.sort((t,o)=>new Date(t.fecha_cita).getTime()>new Date(o.fecha_cita).getTime()),h&&(h.value=!0)}catch(l){console.log(l)}},k=l=>{confirm("Desea Eliminar el Paciente?")&&m.delete(`/api/consultas/${l}`).then(t=>{b()}).catch(t=>{console.log(t)})};return b(),(l,t)=>{const o=S("router-link");return i(),n("div",x,[e("div",E,[e("div",I,[e("div",L,[e("div",R,[e("div",T,[f(e("input",{"aria-label":"Recipient's username","aria-describedby":"button-addon2",class:"form-control",placeholder:r.value?"Nombre Paciente":"",type:r.value?"text":"date","onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),disabled:a.value.length===0},null,8,U),[[y,d.value]]),_.value?(i(),n("button",{key:0,class:"btn btn-outline-secondary",id:"button-addon3",type:"button",onClick:g},V)):N("",!0),e("button",{class:"btn btn-outline-secondary",id:"button-addon2",type:"button",onClick:C,disabled:a.value.length===0},F,8,B)])]),e("div",P,[e("div",Y,[f(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>r.value=s),id:"flexCheckChecked"},null,512),[[D,r.value]]),q])])])]),a.value.length>0?(i(),n("div",$,[e("div",j,[e("table",z,[G,e("tbody",null,[(i(!0),n(p,null,w(a.value,s=>(i(),n("tr",{key:s.id},[e("td",null,c(s.id),1),e("td",null,c(s.nombre_paciente),1),e("td",null,c(s.cedula_paciente),1),e("td",null,c(s.sucursal),1),e("td",null,c(s.doctor),1),e("td",null,c(s.fecha_cita),1),e("td",null,c(s.hora_cita),1),e("td",null,[A(o,{to:{name:"editarPaciente",params:{id:s.id}},class:"btn btn-info d-inline m-1"},{default:O(()=>[J]),_:2},1032,["to"]),e("a",{type:"button",onClick:oe=>k(s.id),class:"btn btn-danger d-inline"},W,8,K)])]))),128))])])])])):(i(),n(p,{key:1},[h.value?(i(),n("div",X,ee)):(i(),n("div",te,le))],64))])])}}};export{ie as default};
